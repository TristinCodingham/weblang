const moo = require('moo')
 
module.exports = lexer = moo.compile({
    keyword: ['use', 'head', 'body', 'title', 'stylesheet', 'meta', 'header', 'content', 'footer', 'list', 'image', 'dyn', 'block', 'if', 'or', 'in', 'loop', 'loopback', 'count', 'final', 'return', 'switch'],
    bool: /true|false/,
    identifier: /[a-zA-Z][a-zA-Z_0-9]*/,
    comment: /\/\/.*?$/,
    lparen:  '(',
    rparen:  ')',
    lbrace:  '{',
    rbrace:  '}',
    lbracket:  '[',
    rbracket:  ']',
    gt: '>>',
    lt: '<<',
    equalto: '==',
    notequal: '!=',
    incr: '++',
    decr: '--',
    divoff: '/=',
    mulon: '*=',
    addon: '+=',
    suboff: '-=',
    and: '&&',
    or: '||',
    not: '!',
    ltag: '<',
    rtag: '>',
    mod: '%',
    div: '/',
    mul: '*',
    add: '+',
    sub: '-',
    godo: '=>',
    assign: '=',
    comma: ',',
    colon: ':',
    wspace:  /[ \t]+/,
    number:  /(?:0|[1-9][0-9_]*)/,
    string:  /"(?:\\["\\]|[^\n"\\])*"/,
    newline: { match: /\r\n/, lineBreaks: true },
});